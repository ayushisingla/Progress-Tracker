{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = TimeDropdown;\n\nvar _core = require(\"@emotion/core\");\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar styles = _interopRequireWildcard(require(\"./styles/time-dropdown\"));\n\nvar _configContext = _interopRequireDefault(require(\"../hooks/config-context\"));\n\nvar _dom = require(\"../helpers/dom\");\n\nvar _utils = require(\"../helpers/utils\");\n\nvar _constants = require(\"../helpers/constants\");\n\nvar _stateContext = _interopRequireDefault(require(\"../hooks/state-context\"));\n\nlet scrollbarWidth = null;\n\nfunction TimeDropdown({\n  close\n}) {\n  const _useConfig = (0, _configContext.default)(),\n        hour24Mode = _useConfig.hour24Mode;\n\n  const _useTimekeeperState = (0, _stateContext.default)(),\n        updateTime = _useTimekeeperState.updateTime,\n        mode = _useTimekeeperState.mode,\n        time = _useTimekeeperState.time;\n\n  const container = (0, _react.useRef)(null);\n  const selectedOption = (0, _react.useRef)(null);\n  const options = _constants.CLOCK_VALUES[mode].dropdown;\n  const selected = (0, _utils.getNormalizedTimeValue)(mode, time).toString();\n\n  function disableBodyScroll() {\n    document.documentElement.style.paddingRight = scrollbarWidth + 'px';\n    document.documentElement.classList.add('react-timekeeper-noscroll');\n  }\n\n  function enableBodyScroll() {\n    document.documentElement.style.paddingRight = '0';\n    document.documentElement.classList.remove('react-timekeeper-noscroll');\n  }\n\n  const elsewhereClick = (0, _react.useCallback)(e => {\n    if (!container.current || !e.target) {\n      return;\n    }\n\n    if (!container.current.contains(e.target)) {\n      close();\n    }\n  }, [close]);\n  (0, _react.useEffect)(() => {\n    // measure scroll bar width for first time\n    if (scrollbarWidth == null) {\n      scrollbarWidth = (0, _dom.getScrollBarWidth)();\n    } // initial scroll in list\n\n\n    if (selectedOption.current && container.current) {\n      container.current.scrollTop = selectedOption.current.offsetTop;\n    } // listener to close if click outside dropdown\n\n\n    document.addEventListener('click', elsewhereClick, false);\n    return () => {\n      document.removeEventListener('click', elsewhereClick, false);\n      enableBodyScroll();\n    };\n  }, [elsewhereClick]); // select a value\n\n  function select(val) {\n    let parsed = parseInt(val, 10);\n\n    if (mode === _constants.MODE.HOURS_12 && parsed === 12) {\n      parsed = 0;\n    }\n\n    updateTime(parsed);\n    close();\n  }\n\n  return (0, _core.jsx)(\"div\", {\n    css: styles.wrapper(hour24Mode, mode),\n    ref: container,\n    onMouseEnter: disableBodyScroll,\n    onMouseLeave: enableBodyScroll,\n    className: \"react-timekeeper__time-dropdown\"\n  }, (0, _core.jsx)(\"ul\", {\n    css: styles.options,\n    className: \"react-timekeeper__dropdown-numbers\"\n  }, options.map(o => {\n    const isSelected = selected === o;\n    return (0, _core.jsx)(\"li\", {\n      ref: el => isSelected ? selectedOption.current = el : '',\n      className: \"react-timekeeper__dropdown-number \".concat(isSelected ? 'react-timekeeper__dropdown-number--active' : ''),\n      css: styles.option(isSelected),\n      key: o,\n      onClick: () => select(o)\n    }, o);\n  })));\n}","map":{"version":3,"sources":["/home/ayushi/Documents/Workspace/Final/Safeearth/node_modules/react-timekeeper/lib/components/TimeDropdown.js"],"names":["_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","default","TimeDropdown","_core","_react","styles","_configContext","_dom","_utils","_constants","_stateContext","scrollbarWidth","close","_useConfig","hour24Mode","_useTimekeeperState","updateTime","mode","time","container","useRef","selectedOption","options","CLOCK_VALUES","dropdown","selected","getNormalizedTimeValue","toString","disableBodyScroll","document","documentElement","style","paddingRight","classList","add","enableBodyScroll","remove","elsewhereClick","useCallback","e","current","target","contains","useEffect","getScrollBarWidth","scrollTop","offsetTop","addEventListener","removeEventListener","select","val","parsed","parseInt","MODE","HOURS_12","jsx","css","wrapper","ref","onMouseEnter","onMouseLeave","className","map","o","isSelected","el","concat","option","key","onClick"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = TimeDropdown;\n\nvar _core = require(\"@emotion/core\");\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar styles = _interopRequireWildcard(require(\"./styles/time-dropdown\"));\n\nvar _configContext = _interopRequireDefault(require(\"../hooks/config-context\"));\n\nvar _dom = require(\"../helpers/dom\");\n\nvar _utils = require(\"../helpers/utils\");\n\nvar _constants = require(\"../helpers/constants\");\n\nvar _stateContext = _interopRequireDefault(require(\"../hooks/state-context\"));\n\nlet scrollbarWidth = null;\n\nfunction TimeDropdown({\n  close\n}) {\n  const _useConfig = (0, _configContext.default)(),\n        hour24Mode = _useConfig.hour24Mode;\n\n  const _useTimekeeperState = (0, _stateContext.default)(),\n        updateTime = _useTimekeeperState.updateTime,\n        mode = _useTimekeeperState.mode,\n        time = _useTimekeeperState.time;\n\n  const container = (0, _react.useRef)(null);\n  const selectedOption = (0, _react.useRef)(null);\n  const options = _constants.CLOCK_VALUES[mode].dropdown;\n  const selected = (0, _utils.getNormalizedTimeValue)(mode, time).toString();\n\n  function disableBodyScroll() {\n    document.documentElement.style.paddingRight = scrollbarWidth + 'px';\n    document.documentElement.classList.add('react-timekeeper-noscroll');\n  }\n\n  function enableBodyScroll() {\n    document.documentElement.style.paddingRight = '0';\n    document.documentElement.classList.remove('react-timekeeper-noscroll');\n  }\n\n  const elsewhereClick = (0, _react.useCallback)(e => {\n    if (!container.current || !e.target) {\n      return;\n    }\n\n    if (!container.current.contains(e.target)) {\n      close();\n    }\n  }, [close]);\n  (0, _react.useEffect)(() => {\n    // measure scroll bar width for first time\n    if (scrollbarWidth == null) {\n      scrollbarWidth = (0, _dom.getScrollBarWidth)();\n    } // initial scroll in list\n\n\n    if (selectedOption.current && container.current) {\n      container.current.scrollTop = selectedOption.current.offsetTop;\n    } // listener to close if click outside dropdown\n\n\n    document.addEventListener('click', elsewhereClick, false);\n    return () => {\n      document.removeEventListener('click', elsewhereClick, false);\n      enableBodyScroll();\n    };\n  }, [elsewhereClick]); // select a value\n\n  function select(val) {\n    let parsed = parseInt(val, 10);\n\n    if (mode === _constants.MODE.HOURS_12 && parsed === 12) {\n      parsed = 0;\n    }\n\n    updateTime(parsed);\n    close();\n  }\n\n  return (0, _core.jsx)(\"div\", {\n    css: styles.wrapper(hour24Mode, mode),\n    ref: container,\n    onMouseEnter: disableBodyScroll,\n    onMouseLeave: enableBodyScroll,\n    className: \"react-timekeeper__time-dropdown\"\n  }, (0, _core.jsx)(\"ul\", {\n    css: styles.options,\n    className: \"react-timekeeper__dropdown-numbers\"\n  }, options.map(o => {\n    const isSelected = selected === o;\n    return (0, _core.jsx)(\"li\", {\n      ref: el => isSelected ? selectedOption.current = el : '',\n      className: \"react-timekeeper__dropdown-number \".concat(isSelected ? 'react-timekeeper__dropdown-number--active' : ''),\n      css: styles.option(isSelected),\n      key: o,\n      onClick: () => select(o)\n    }, o);\n  })));\n}"]},"metadata":{},"sourceType":"script"}